<html>
<head>
    <title>MiniExtensions Form Embed: Documentation</title>
    <script src="embed-manager.js"></script>
    <style type="text/css">
        h2 {
            margin-bottom: 0;
        }
        .container {
            width: 1400px;
            margin: 20px auto;
        }
        .code-block {
            margin-top: 10px;
            width: 100%;
            border: 0 none;
            font-size: 90%;
        }
    </style>
</head>
<body>
<div class="container">

<h2>Prefill param through Parent URL</h2>
<a href="demo-through-url-param.html?prefill_Company+name=test" target="_blank">Click here to see demo</a>

<textarea class="code-block" id="code-block-1" readonly="readonly">
<div id="miniextensions-form"></div>
<script type="text/javascript">
    window.MiniExtensionFormManager=window.MiniExtensionFormManager||new function(){return{embed:function(n){var r,e="miniextensions.com",t=n.key,a="https://api."+e+"/v1/iframe-embed/"+t+".js?absoluteShareUrl=",i="https://app."+e+"/form/"+t,o={},e="";if((void 0===n.precedenceUrlParams||"boolean"!=typeof n.precedenceUrlParams)&&(n.precedenceUrlParams=!1),!n.precedenceUrlParams&&n.prePopulate!=window.location||(o=MiniExtensionFormManager.getQueryParams()),"object"!=typeof n.prePopulate&&(n.prePopulate={}),n.precedenceUrlParams)for(var s in o)n.prePopulate[s]=o[s];n.prePopulate&&(r=encodeURIComponent,e=Object.keys(n.prePopulate).map(function(e){return r(e)+"="+r(n.prePopulate[e])}).join("&")),MiniExtensionFormManager.insertFrame(t,a+i+(e?"?"+e:""))},getQueryParam:function(e){e=MiniExtensionFormManager.getQueryParams()[e];return void 0===e?"":e},getQueryParams:function(){var e,n={},r=window.location.search.substr(1);if(r){r=r.split("&");for(var t=0;t<r.length;t++)0===((e=r[t].split("="))[0]+"").lastIndexOf("prefill_",0)&&(n[e[0]]=e[1])}return n},insertFrame:function(e,n){var r=document.getElementById("miniextensions-form"),t=document.createElement("div"),a=document.createElement("script");t.id="miniextensions-iframe-embed-"+e,a.type="text/javascript",a.src=n,r.parentNode.insertBefore(t,r.nextSibling),r.parentNode.insertBefore(a,r.nextSibling)}}};

    MiniExtensionFormManager.embed({
        key: "DuZfZJ2BqcNBZgjKDbfW",
        prePopulate: window.location
    });
</script>
</textarea>

<h2>Prefill param through JavaScript</h2>
<a href="demo.html" target="_blank">Click here to see demo</a>

<textarea class="code-block" id="code-block-2" readonly="readonly">
<div id="miniextensions-form"></div>
<script type="text/javascript">
    window.MiniExtensionFormManager=window.MiniExtensionFormManager||new function(){return{embed:function(n){var r,e="miniextensions.com",t=n.key,a="https://api."+e+"/v1/iframe-embed/"+t+".js?absoluteShareUrl=",i="https://app."+e+"/form/"+t,o={},e="";if((void 0===n.precedenceUrlParams||"boolean"!=typeof n.precedenceUrlParams)&&(n.precedenceUrlParams=!1),!n.precedenceUrlParams&&n.prePopulate!=window.location||(o=MiniExtensionFormManager.getQueryParams()),"object"!=typeof n.prePopulate&&(n.prePopulate={}),n.precedenceUrlParams)for(var s in o)n.prePopulate[s]=o[s];n.prePopulate&&(r=encodeURIComponent,e=Object.keys(n.prePopulate).map(function(e){return r(e)+"="+r(n.prePopulate[e])}).join("&")),MiniExtensionFormManager.insertFrame(t,a+i+(e?"?"+e:""))},getQueryParam:function(e){e=MiniExtensionFormManager.getQueryParams()[e];return void 0===e?"":e},getQueryParams:function(){var e,n={},r=window.location.search.substr(1);if(r){r=r.split("&");for(var t=0;t<r.length;t++)0===((e=r[t].split("="))[0]+"").lastIndexOf("prefill_",0)&&(n[e[0]]=e[1])}return n},insertFrame:function(e,n){var r=document.getElementById("miniextensions-form"),t=document.createElement("div"),a=document.createElement("script");t.id="miniextensions-iframe-embed-"+e,a.type="text/javascript",a.src=n,r.parentNode.insertBefore(t,r.nextSibling),r.parentNode.insertBefore(a,r.nextSibling)}}};

    MiniExtensionFormManager.embed({
        key: "DuZfZJ2BqcNBZgjKDbfW",
        prePopulate: {
            "prefill_Company+name": "DYMICBIT",
            "prefill_CompanyID": "1234"
        }
    });
</script>
</textarea>

<h2>Prefill parent URL param by JS</h2>
<a href="demo-get-specific-param.html?prefill_Company+name=test" target="_blank">Click here to see demo</a>

<textarea class="code-block" id="code-block-3" readonly="readonly">
<div id="miniextensions-form"></div>
<script type="text/javascript">
    window.MiniExtensionFormManager=window.MiniExtensionFormManager||new function(){return{embed:function(n){var r,e="miniextensions.com",t=n.key,a="https://api."+e+"/v1/iframe-embed/"+t+".js?absoluteShareUrl=",i="https://app."+e+"/form/"+t,o={},e="";if((void 0===n.precedenceUrlParams||"boolean"!=typeof n.precedenceUrlParams)&&(n.precedenceUrlParams=!1),!n.precedenceUrlParams&&n.prePopulate!=window.location||(o=MiniExtensionFormManager.getQueryParams()),"object"!=typeof n.prePopulate&&(n.prePopulate={}),n.precedenceUrlParams)for(var s in o)n.prePopulate[s]=o[s];n.prePopulate&&(r=encodeURIComponent,e=Object.keys(n.prePopulate).map(function(e){return r(e)+"="+r(n.prePopulate[e])}).join("&")),MiniExtensionFormManager.insertFrame(t,a+i+(e?"?"+e:""))},getQueryParam:function(e){e=MiniExtensionFormManager.getQueryParams()[e];return void 0===e?"":e},getQueryParams:function(){var e,n={},r=window.location.search.substr(1);if(r){r=r.split("&");for(var t=0;t<r.length;t++)0===((e=r[t].split("="))[0]+"").lastIndexOf("prefill_",0)&&(n[e[0]]=e[1])}return n},insertFrame:function(e,n){var r=document.getElementById("miniextensions-form"),t=document.createElement("div"),a=document.createElement("script");t.id="miniextensions-iframe-embed-"+e,a.type="text/javascript",a.src=n,r.parentNode.insertBefore(t,r.nextSibling),r.parentNode.insertBefore(a,r.nextSibling)}}};

    MiniExtensionFormManager.embed({
        key: "DuZfZJ2BqcNBZgjKDbfW",
        prePopulate: {
            "prefill_Company+name": MiniExtensionFormManager.getQueryParam('prefill_Company+name'),
            "prefill_CompanyID": "1234"
        }
    });
</script>
</textarea>

<h2>Applying precedence to url params</h2>
<a href="demo-get-specific-param.html?prefill_Company+name=Radiant Law" target="_blank">Click here to see demo</a>

<textarea class="code-block" id="code-block-4" readonly="readonly">
<div id="miniextensions-form"></div>
<script type="text/javascript">
    window.MiniExtensionFormManager=window.MiniExtensionFormManager||new function(){return{embed:function(n){var r,e="miniextensions.com",t=n.key,a="https://api."+e+"/v1/iframe-embed/"+t+".js?absoluteShareUrl=",i="https://app."+e+"/form/"+t,o={},e="";if((void 0===n.precedenceUrlParams||"boolean"!=typeof n.precedenceUrlParams)&&(n.precedenceUrlParams=!1),!n.precedenceUrlParams&&n.prePopulate!=window.location||(o=MiniExtensionFormManager.getQueryParams()),"object"!=typeof n.prePopulate&&(n.prePopulate={}),n.precedenceUrlParams)for(var s in o)n.prePopulate[s]=o[s];n.prePopulate&&(r=encodeURIComponent,e=Object.keys(n.prePopulate).map(function(e){return r(e)+"="+r(n.prePopulate[e])}).join("&")),MiniExtensionFormManager.insertFrame(t,a+i+(e?"?"+e:""))},getQueryParam:function(e){e=MiniExtensionFormManager.getQueryParams()[e];return void 0===e?"":e},getQueryParams:function(){var e,n={},r=window.location.search.substr(1);if(r){r=r.split("&");for(var t=0;t<r.length;t++)0===((e=r[t].split("="))[0]+"").lastIndexOf("prefill_",0)&&(n[e[0]]=e[1])}return n},insertFrame:function(e,n){var r=document.getElementById("miniextensions-form"),t=document.createElement("div"),a=document.createElement("script");t.id="miniextensions-iframe-embed-"+e,a.type="text/javascript",a.src=n,r.parentNode.insertBefore(t,r.nextSibling),r.parentNode.insertBefore(a,r.nextSibling)}}};

    MiniExtensionFormManager.embed({
        key: "DuZfZJ2BqcNBZgjKDbfW",
        precedenceUrlParams: true,
        prePopulate: {
            "prefill_Company+name": 'DYMICBIT',
            "prefill_CompanyID": "1234"
        }
    });
</script>
</textarea>
    
<script type="text/javascript">
    function setHeight(fieldId){
        document.getElementById(fieldId).style.height = document.getElementById(fieldId).scrollHeight+'px';
    }
    setHeight('code-block-1');
    setHeight('code-block-2');
    setHeight('code-block-3');
    setHeight('code-block-4');
</script>
</div>

</body>
</html>
